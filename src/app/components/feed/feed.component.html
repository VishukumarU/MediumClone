<app-loader *ngIf="isLoading$ | async"></app-loader>
<app-error-message *ngIf="(error$ | async) as errMsg" [errMsg]="errMsg"></app-error-message>
<div *ngIf="(feed$ | async) as feed">
    <div class="article-preview" *ngFor="let article of feed.articles">
        <div class="article-meta">
            <a [routerLink]="['/profile', article.author.username]" routerLinkActive="router-link-active">
                <img src="{{article.author.image}}">
            </a>
            <div class="info">
                <a [routerLink]="['/profile', article.author.username]" routerLinkActive="router-link-active"
                    class="author">
                    {{article.author.username}}
                </a>
                <span class="date">{{article.createdAt}}</span>
            </div>
            <div class="pull-xs-right">
                <app-add-to-favourite [isFavourited]="article.favorited" [favouritesCount]="article.favoritesCount"
                    [slug]="article.slug">
                </app-add-to-favourite>
            </div>
        </div>

        <a [routerLink]="['/article', article.slug]" class="preview-link">
            <h1 class="">{{article.title}}</h1>
            <p>{{article.description}}</p>
            <span>Read more...</span>
            <app-tag [tags]="article.tagList"></app-tag>
        </a>
    </div>
    <ng-container *ngIf="(feed$ | async) as feeds">
        <app-pagination [limit]="limit" [totalRecords]="feeds.articlesCount" [currrentPage]="currentPage"
            [url]="baseUrl">
        </app-pagination>
    </ng-container>
</div>